<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Liste des transactions</title>
</head>
<body>
    <ol class="budget-box" ng-controller="TransactionCtrl" ng-init="getOperationBloc()">
        <li ng-repeat="operationBloc in operationBlocArray">
            <div class="card text-white bg-primary o-hidden h-100">
                <div class="card-body">
                    <div class="card-body-icon">
                        <i class="fa fa-fw {{operationBloc.Icon}} move"></i>
                    </div>
                    <div class="mr-5">
                        <div>{{operationBloc.Name}}</div>
                        <div>{{operationBloc.Total}}</div>
                    </div>
                </div>
                <a class="card-footer text-white clearfix small z-1" href="#">
                    <span class="float-left">Détails...</span>
                    <span class="float-right">
                        <i class="fa fa-angle-right"></i>
                    </span>
                </a>
            </div>
        </li>
    </ol>   
    <script>
        $(function () {
            var adjustment;

            $("ol.budget-box").sortable({
                group: 'no-drop',
                handle: 'i.move',
                placeholderClass: "placeholder",
                placeholder: '<li class="placeholder">&nbsp;</li>',
                // animation on drop
                onDrop: function ($item, container, _super) {
                    var $clonedItem = $('<li/>').css({ height: 0 });
                    $item.before($clonedItem);
                    $clonedItem.animate({ 'height': $item.height() });

                    $item.animate($clonedItem.position(), function () {
                        $clonedItem.detach();
                        _super($item, container);
                    });
                },

                // set $item relative to cursor position
                onDragStart: function ($item, container, _super) {
                    var offset = $item.offset(),
                        pointer = container.rootGroup.pointer;

                    adjustment = {
                        left: pointer.left - offset.left,
                        top: pointer.top - offset.top
                    };

                    _super($item, container);
                },
                onDrag: function ($item, position) {
                    $item.css({
                        left: position.left - adjustment.left,
                        top: position.top - adjustment.top
                    });
                }
            });
        });
    </script>
</body>
</html>